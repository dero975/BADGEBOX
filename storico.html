The code has been modified to correctly group timestamps by considering those occurring until 05:00 of the next day as part of the previous day's shift.
```